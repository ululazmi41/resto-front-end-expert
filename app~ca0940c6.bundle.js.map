{"version":3,"file":"app~ca0940c6.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/views/app.js","webpack://restaurant-apps/./src/scripts/views/pages/detail.js"],"sourcesContent":["// import DrawerInitiator from '../utils/drawer-initiator';\nimport UrlParser from '../routes/url-parser';\nimport routes from '../routes/routes';\n\nclass App {\n  constructor({ content }) {\n    this.content = content;\n  }\n\n  async renderPage() {\n    const url = UrlParser.parseActiveUrlWithCombiner();\n    const page = routes[url];\n\n    try {\n      this.content.innerHTML = await page.render();\n      await page.afterRender();\n    } catch {\n      page.renderNoConnection();\n    }\n\n    const skipLinkElement = document.querySelector('#skipContent');\n    skipLinkElement.addEventListener('click', (event) => {\n      event.preventDefault();\n      document.querySelector('#maincontent').scrollIntoView();\n      document.querySelector('#maincontent').focus();\n    });\n  }\n}\n\nexport default App;\n","import RestaurantsRemote from '../../data/remote';\nimport API_ENDPOINT from '../../globals/api-endpoint';\nimport { INFO } from '../../globals/variables';\nimport UrlParser from '../../routes/url-parser';\nimport FavoriteButtonInitiator from '../../utils/favorite-button-initiator';\nimport {\n  createMenuItemTemplate,\n  createRestaurantDetailTemplate,\n  createReviewTemplate,\n  warningIconTemplate,\n} from '../templates/template-creator';\n\nconst Detail = {\n  async render() {\n    return `\n    <section class=\"detail-img-container\">\n      <img id=\"detailImg\" />\n      <div id=\"favoriteButtonContainer\"></div>\n    </section>\n    <div id=\"maincontent\" tabindex=\"-1\">\n      <div id=\"ldsContainer\" class=\"lds-container\">\n        <div class=\"lds-ellipsis\">\n          <div></div><div></div><div></div><div></div>\n        </div>\n      </div>\n      </div>\n      <div id=\"restaurantDetail\" class=\"restaurant-detail\">\n        <div id=\"infoContainer\" style=\"display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 80vh; max-width: 100vw;\">\n          <div class=\"warning-icon\" style=\"display: grid; justify-content: center;\"></div>\n          <p id=\"infoText\" style=\"font-size: 12pt;\"></p>\n        </div>\n      </div>\n    </div>\n    `;\n  },\n\n  renderImg({ pictureId, restaurantName }) {\n    const img = document.querySelector('#detailImg');\n    img.src = `${API_ENDPOINT.IMG_LARGE}/${pictureId}`;\n    img.alt = `restoran ${restaurantName}`;\n  },\n\n  renderItemMenus({ menuId, menus }) {\n    const menuList = document.querySelector(`#${menuId}`);\n    menus.forEach((item) => {\n      const li = createMenuItemTemplate(item);\n\n      menuList.innerHTML += li;\n    });\n  },\n\n  renderCostumerReviews({ costumerReviewsId, costumerReviews }) {\n    const reviewsList = document.querySelector(`#${costumerReviewsId}`);\n    costumerReviews.forEach((review) => {\n      const li = createReviewTemplate(review);\n\n      reviewsList.innerHTML += li;\n    });\n  },\n\n  showInfo(text) {\n    const infoText = document.querySelector('#infoText');\n    infoText.innerHTML = text;\n  },\n\n  renderWarning() {\n    const warningIconElement = document.querySelector('.warning-icon');\n    warningIconElement.innerHTML = warningIconTemplate();\n  },\n\n  hideLoading() {\n    const ldsContainer = document.querySelector('#ldsContainer');\n    ldsContainer.style.display = 'none';\n  },\n\n  hideImage() {\n    const detailImg = document.querySelector('#detailImg');\n    detailImg.style.display = 'none';\n  },\n\n  async afterRender() {\n    try {\n      const url = UrlParser.parseActiveUrlWithoutCombiner();\n\n      const response = await RestaurantsRemote.detail(url.id);\n      this.hideLoading();\n\n      const { restaurant } = response;\n      const { menus, customerReviews } = restaurant;\n      const { drinks, foods } = menus;\n\n      this.renderImg({\n        pictureId: restaurant.pictureId,\n        restaurantName: restaurant.name,\n      });\n\n      const restaurantContainer = document.querySelector('#restaurantDetail');\n      restaurantContainer.innerHTML = createRestaurantDetailTemplate(restaurant);\n\n      this.renderItemMenus({\n        menuId: 'foodList',\n        menus: foods.slice(0, 3),\n      });\n\n      this.renderItemMenus({\n        menuId: 'drinkList',\n        menus: drinks.slice(0, 3),\n      });\n\n      this.renderCostumerReviews({\n        costumerReviewsId: 'reviewsContainer',\n        costumerReviews: customerReviews.slice(0, 3),\n      });\n\n      FavoriteButtonInitiator.init({\n        favoriteButtonContainer: document.querySelector('#favoriteButtonContainer'),\n        restaurant: {\n          id: restaurant.id,\n          name: restaurant.name,\n          description: restaurant.description,\n          city: restaurant.city,\n          address: restaurant.address,\n          pictureId: restaurant.pictureId,\n          rating: restaurant.rating,\n          menus: restaurant.menus,\n          customerServices: restaurant.customerServices,\n        },\n      });\n    } catch {\n      this.hideImage();\n      this.hideLoading();\n      this.renderWarning();\n      this.showInfo(INFO.NO_CONNECTION);\n    }\n  },\n};\n\nexport default Detail;\n"],"names":["i","content","this","url","UrlParser","page","routes","render","innerHTML","afterRender","renderNoConnection","document","querySelector","addEventListener","event","preventDefault","scrollIntoView","focus","renderImg","pictureId","restaurantName","img","src","API_ENDPOINT","alt","renderItemMenus","menuId","menus","menuList","forEach","item","li","createMenuItemTemplate","renderCostumerReviews","costumerReviewsId","costumerReviews","reviewsList","review","createReviewTemplate","showInfo","text","renderWarning","warningIconTemplate","hideLoading","style","display","hideImage","RestaurantsRemote","id","response","restaurant","customerReviews","drinks","foods","name","createRestaurantDetailTemplate","slice","FavoriteButtonInitiator","favoriteButtonContainer","description","city","address","rating","customerServices","INFO"],"sourceRoot":""}