{"version":3,"file":"app~a51fa3f5.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/data/local.js","webpack://restaurant-apps/./src/scripts/data/remote.js","webpack://restaurant-apps/./src/scripts/globals/api-endpoint.js","webpack://restaurant-apps/./src/scripts/globals/config.js","webpack://restaurant-apps/./src/scripts/globals/variables.js","webpack://restaurant-apps/./src/scripts/index.js"],"sourcesContent":["// eslint-disable-next-line import/no-extraneous-dependencies\nimport { openDB } from 'idb';\nimport CONFIG from '../globals/config';\n\nconst { DATABASE_NAME, DATABASE_VERSION, OBJECT_STORE_NAME } = CONFIG;\n\nconst dbPromise = openDB(DATABASE_NAME, DATABASE_VERSION, {\n  upgrade(database) {\n    database.createObjectStore(OBJECT_STORE_NAME, { keyPath: 'id' });\n  },\n});\n\nconst restaurantIdb = {\n  async get(id) {\n    if (!id) {\n      return false;\n    }\n\n    return (await dbPromise).get(OBJECT_STORE_NAME, id);\n  },\n  async getAll() {\n    return (await dbPromise).getAll(OBJECT_STORE_NAME);\n  },\n  async put(restaurant) {\n    // eslint-disable-next-line no-prototype-builtins\n    if (!restaurant.hasOwnProperty('id')) {\n      return false;\n    }\n\n    return (await dbPromise).put(OBJECT_STORE_NAME, restaurant);\n  },\n  async delete(id) {\n    return (await dbPromise).delete(OBJECT_STORE_NAME, id);\n  },\n};\n\nexport default restaurantIdb;\n","import API_ENDPOINT from '../globals/api-endpoint';\n\n// import API_ENDPOINT from '../globals/api-endpoint';\n\nclass RestaurantRemote {\n  static async restaurants() {\n    const response = await fetch(API_ENDPOINT.LIST);\n    const responseJson = await response.json();\n\n    return responseJson;\n  }\n\n  static async detail(id) {\n    const response = await fetch(API_ENDPOINT.DETAIL(id));\n    return response.json();\n  }\n\n  static async upcomingMovies() {\n    // const response = await fetch(API_ENDPOINT.UPCOMING);\n    // const responseJson = await response.json();\n    // return responseJson.results;\n  }\n}\n\nexport default RestaurantRemote;\n","import CONFIG from './config';\n\nconst API_ENDPOINT = {\n  LIST: `${CONFIG.BASE_URL}/list`,\n  DETAIL: (id) => `${CONFIG.BASE_URL}/detail/${id}`,\n  IMG_SMALL: `${CONFIG.BASE_URL}/images/small`,\n  IMG_MEDIUM: `${CONFIG.BASE_URL}/images/medium`,\n  IMG_LARGE: `${CONFIG.BASE_URL}/images/large`,\n};\n\nexport default API_ENDPOINT;\n","const CONFIG = {\n  CACHE_NAME: 'resto-v1',\n  BASE_URL: 'https://restaurant-api.dicoding.dev',\n  DATABASE_NAME: 'restaurant-database',\n  DATABASE_VERSION: 1,\n  OBJECT_STORE_NAME: 'resto',\n};\n\nexport default CONFIG;\n","const INFO = {\n  NO_CONNECTION: 'Tidak terhubung ke Internet, harap sambung koneksi Internet Anda dan refresh atau buka kembali halaman ini.',\n};\n\nmodule.exports = {\n  INFO,\n};\n","import 'regenerator-runtime'; /* for async await transpile */\n\n// Styling | CSS\nimport '../styles/main.scss';\nimport '../styles/tailwind.css';\nimport '../styles/loading.css';\n\n// App\nimport App from './views/app';\n\n// Others\nimport swRegister from './utils/sw-register';\n\nimport 'lazysizes';\nimport 'lazysizes/plugins/parent-fit/ls.parent-fit';\n\nconst app = new App({\n  content: document.querySelector('#main'),\n});\n\nwindow.addEventListener('hashchange', () => {\n  app.renderPage();\n});\n\nwindow.addEventListener('load', async () => {\n  app.renderPage();\n  await swRegister();\n});\n\n// Modal\nconst body = document.querySelector('body');\nconst nav = document.querySelector('#nav');\nconst navItem1 = document.querySelector('#navItem1');\nconst navItem2 = document.querySelector('#navItem2');\nconst navItem3 = document.querySelector('#navItem3');\nconst drawerToggle = document.querySelector('#drawerToggle');\n\ndrawerToggle.addEventListener('click', (e) => {\n  nav.classList.toggle('open');\n  e.stopPropagation();\n});\n\nbody.addEventListener('click', (e) => {\n  nav.classList.remove('open');\n  e.stopPropagation();\n});\n\ndrawerToggle.addEventListener('keypress', (e) => {\n  if (e.which === 13) {\n    nav.classList.toggle('open');\n    e.stopPropagation();\n\n    if (nav.classList.contains('open')) {\n      navItem1.focus();\n    }\n  }\n});\n\nconst handlePressedTab = () => {\n  if (window.screen.width < 728) {\n    navItem1.tabIndex = -1;\n    navItem2.tabIndex = -1;\n    navItem3.tabIndex = -1;\n  } else {\n    navItem1.tabIndex = 0;\n    navItem2.tabIndex = 0;\n    navItem3.tabIndex = 0;\n  }\n};\n\nconst handlePressedEscape = () => {\n  if (nav.classList.contains('open')) {\n    nav.classList.remove('open');\n    drawerToggle.focus();\n    return false;\n  }\n\n  return true;\n};\n\nconst handlePressedUp = () => {\n  const isFocused1 = (document.activeElement === navItem1);\n  if (nav.classList.contains('open') && isFocused1) {\n    navItem3.focus();\n    return false;\n  }\n\n  const isFocused2 = (document.activeElement === navItem2);\n  if (nav.classList.contains('open') && isFocused2) {\n    navItem1.focus();\n    return false;\n  }\n\n  const isFocused3 = (document.activeElement === navItem3);\n  if (nav.classList.contains('open') && isFocused3) {\n    navItem2.focus();\n    return false;\n  }\n\n  return true;\n};\n\nconst handlePressedDown = () => {\n  const isFocusedItem3 = (document.activeElement === navItem3);\n  if (nav.classList.contains('open') && isFocusedItem3) {\n    navItem1.focus();\n    return false;\n  }\n\n  const isFocusedItem2 = (document.activeElement === navItem2);\n  if (nav.classList.contains('open') && isFocusedItem2) {\n    navItem3.focus();\n    return false;\n  }\n\n  const isFocusedItem1 = (document.activeElement === navItem1);\n  if (nav.classList.contains('open') && isFocusedItem1) {\n    navItem2.focus();\n    return false;\n  }\n\n  return true;\n};\n\nconst checkKey = (event) => {\n  const e = event || window.event;\n\n  if (e.key === 'Tab') {\n    handlePressedTab();\n  }\n\n  if (e.key === 'Escape') {\n    handlePressedEscape();\n  }\n\n  if (e.keyCode === '38') {\n    handlePressedUp();\n  } else if (e.keyCode === '40') {\n    handlePressedDown();\n  }\n\n  return true;\n};\n\ndocument.onkeydown = checkKey;\n"],"names":["i","DATABASE_NAME","CONFIG","DATABASE_VERSION","OBJECT_STORE_NAME","dbPromise","openDB","upgrade","database","createObjectStore","keyPath","get","id","getAll","put","restaurant","hasOwnProperty","fetch","API_ENDPOINT","response","json","responseJson","LIST","DETAIL","IMG_SMALL","IMG_MEDIUM","IMG_LARGE","CACHE_NAME","BASE_URL","module","exports","INFO","NO_CONNECTION","app","App","content","document","querySelector","window","addEventListener","renderPage","swRegister","body","nav","navItem1","navItem2","navItem3","drawerToggle","e","classList","toggle","stopPropagation","remove","which","contains","focus","onkeydown","event","key","screen","width","tabIndex","keyCode","isFocused1","activeElement","isFocused2","isFocused3","handlePressedUp","isFocusedItem3","isFocusedItem2","isFocusedItem1","handlePressedDown"],"sourceRoot":""}